"use strict";(self["webpackChunkmake_your_burguer"]=self["webpackChunkmake_your_burguer"]||[]).push([[443],{6976:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var a=s(3396);const r={class:"main-container"},u=(0,a._)("h1",null,"Gerenciar pedidos:",-1);function n(e,t,s,n,i,o){const l=(0,a.up)("Dashboard");return(0,a.wg)(),(0,a.iD)("div",r,[u,(0,a.Wm)(l)])}var i=s(9242),o=s(7139);const l=e=>((0,a.dD)("data-v-cc271708"),e=e(),(0,a.Cn)(),e),d={id:"burger-table"},g=l((()=>(0,a._)("div",null,[(0,a._)("div",{id:"burger-table-heading"},[(0,a._)("div",{class:"order-id"},"#:"),(0,a._)("div",null,"Cliente:"),(0,a._)("div",null,"Pão:"),(0,a._)("div",null,"Carne:"),(0,a._)("div",null,"Opcionais:"),(0,a._)("div",null,"Ações")])],-1))),c={id:"burger-table-rows"},h={class:"order-number"},m=["onChange"],b=l((()=>(0,a._)("option",{value:""},"Selecione",-1))),p=["value","selected"],_=["onClick"];function v(e,t,s,r,u,n){const l=(0,a.up)("Message");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.wy)((0,a.Wm)(l,{msg:u.msg},null,8,["msg"]),[[i.F8,u.msg]]),g,(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.burgers,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"burger-table-row",key:e.id},[(0,a._)("div",h,(0,o.zw)(e.id),1),(0,a._)("div",null,(0,o.zw)(e.name),1),(0,a._)("div",null,(0,o.zw)(e.bread),1),(0,a._)("div",null,(0,o.zw)(e.meat),1),(0,a._)("div",null,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.optional,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,o.zw)(e),1)))),128))])]),(0,a._)("div",null,[(0,a._)("select",{name:"status",class:"status",onChange:t=>n.updateBurger(t,e._id)},[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.status,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.cod,value:t.status,selected:e.status==t.status},(0,o.zw)(t.status),9,p)))),128))],40,m),(0,a._)("button",{class:"delete-btn",onClick:t=>n.deleteBurger(e._id)}," Cancelar ",8,_)])])))),128))])])}var w=s(8081),k={name:"Dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:w.Z},methods:{async getBurgers(){const e=await fetch("https://make-your-burger-api.herokuapp.com/burgers"),t=await e.json();this.burgers=t,this.getStatus()},async getStatus(){const e=await fetch("https://make-your-burger-api.herokuapp.com/status"),t=await e.json();this.status=t},async deleteBurger(e){const t=await fetch(`https://make-your-burger-api.herokuapp.com/burgers/${e}`,{method:"DELETE"});await t.json();this.msg="Pedido cancelado com sucesso!",setTimeout((()=>this.msg=""),3e3),this.getBurgers()},async updateBurger(e,t){const s=e.target.value;for(let a=0;a<this.burgers.length;a++)if(this.burgers[a]._id==t){const e={name:this.burgers[a].name,meat:this.burgers[a].meat,bread:this.burgers[a].bread,optional:Array.from(this.burgers[a].optional),status:s},r=JSON.stringify(e),u=await fetch(`https://make-your-burger-api.herokuapp.com/burgers/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:r});await u.json();this.msg=`status do pedido N ${t} foi atualizado para ${s}!`,setTimeout((()=>this.msg=""),3e3);break}}},mounted(){this.getBurgers()}},y=s(89);const f=(0,y.Z)(k,[["render",v],["__scopeId","data-v-cc271708"]]);var D=f,C={name:"Pedidos",components:{Dashboard:D}};const z=(0,y.Z)(C,[["render",n]]);var B=z}}]);
//# sourceMappingURL=about.90b98e38.js.map